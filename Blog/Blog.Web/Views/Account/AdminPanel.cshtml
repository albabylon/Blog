@model Blog.Web.ViewModels.Account.AdminViewModel

@{
	ViewData["Title"] = "Панель-админ";
}


<div class="container mt-4">

    <!--Табы-->
	<nav class="nav nav-tabs" id="nav-tab" role="tablist">
        <a class="nav-link active" id="nav-users-tab" data-bs-toggle="tab" href="#nav-users" role="tab" aria-controls="nav-users" aria-selected="true">
			Пользователи
		</a>
        <a class="nav-link" id="nav-roles-tab" data-bs-toggle="tab" href="#nav-roles" role="tab" aria-controls="nav-roles" aria-selected="false">
			Роли
		</a>
        <a class="nav-link" id="nav-articles-tab" data-bs-toggle="tab" href="#nav-articles" role="tab" aria-controls="nav-articles" aria-selected="false">
			Статьи
		</a>
        <a class="nav-link" id="nav-tags-tab" data-bs-toggle="tab" href="#nav-tags" role="tab" aria-controls="nav-tags" aria-selected="false">
            Теги
        </a>
	</nav>

	<div class="tab-content" id="nav-tabContent">
		
        <!--Пользователи-->
        <div class="tab-pane fade show active" id="nav-users" role="tabpanel" aria-labelledby="nav-users-tab">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">Link</th>
                        <th scope="col">Email</th>
                        <th scope="col">Role</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach(var user in Model.Users)
                    {
                        <tr>
                            <th scope="row">
                                <a asp-controller="Admin" asp-action="GetUser" asp-route-id="@user.Id" class="bi bi-person"></a>
                            </th>
                            <td style="max-width: 200px;">@user.Email</td>
                            <td style="max-width: 800px;">@string.Join(", ", user.Role)</td>
                            <td>
                                <a asp-controller="Admin" asp-action="EditUser" asp-route-id="@user.Id" class="btn btn-outline-secondary btn-sm">
                                    Edit
                                </a>
                                <form method="post" asp-controller="Admin" asp-action="DeleteUser" asp-route-id="@user.Id" class="d-inline">
                                    <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Вы уверены?')">
                                        Delete
                                    </button>
                                </form>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
		</div>

		<!--Роли-->
		<div class="tab-pane fade" id="nav-roles" role="tabpanel" aria-labelledby="nav-roles-tab">

		</div>

		<!--Статьи-->
        <div class="tab-pane fade" id="nav-articles" role="tabpanel" aria-labelledby="nav-articles-tab">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">Link</th>
                        <th scope="col">Title</th>
                        <th scope="col">Content</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var article in Model.Articles)
                    {
                        <tr>
                            <th scope="row">
                                <a asp-controller="Article" asp-action="Index" asp-route-id="@article.Id" class="bi bi-book"></a>
                            </th>
                            <td style ="max-width: 200px;">@article.Title</td>
                            <td style="max-width: 800px;">@article.PartOfContent</td>
                            <td>
                                <a asp-controller="Admin" asp-action="EditArticle" asp-route-id="@article.Id" class="btn btn-outline-secondary btn-sm">
                                    Edit
                                </a>
                                <form method="post" asp-controller="Admin" asp-action="DeleteArticle" asp-route-id="@article.Id" class="d-inline">
                                    <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Вы уверены?')">
                                        Delete
                                    </button>
                                </form>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
		</div>

		<!--Теги-->
        <div class="tab-pane fade" id="nav-tags" role="tabpanel" aria-labelledby="nav-tags-tab">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">Link</th>
                        <th scope="col">Name</th>
                        <th scope="col">Description</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var tag in Model.Tags)
                    {
                        <tr>
                            <th scope="row">
                                <a asp-controller="" asp-action="" asp-route-id="@tag.Id" class="bi bi-hash"></a>
                            </th>
                            <td style="max-width: 200px;">@tag.Name</td>
                            <td style="max-width: 800px;">@tag.Description</td>
                            <td>
                                <a asp-controller="Admin" asp-action="EditTag" asp-route-id="@tag.Id" class="btn btn-outline-secondary btn-sm">
                                    Edit
                                </a>
                                <form method="post" asp-controller="Admin" asp-action="DeleteTag" asp-route-id="@tag.Id" class="d-inline">
                                    <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Вы уверены?')">
                                        Delete
                                    </button>
                                </form>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
		</div>
	</div>

</div>